# 문서 업데이트 v2.0

**업데이트 날짜**: 2025년 8월 17일

---

## 📄 PRD (Product Requirements Document) v2.0 변경사항

### 🔄 주요 구조 변경

#### 2.2 학습 진행 흐름
- **워크플로우 다이어그램 단순화**
  - 기존: 복잡한 다단계 워크플로우
  - 변경: `Start → LearningSupervisor Input → SupervisorRouter → [Agents] → LearningSupervisor Output → End`
  - 모든 에이전트가 LearningSupervisor Output으로 수렴하는 통합 구조

- **세션 내 진행 단계별 흐름 제거**
  - 상세한 mermaid 다이어그램 삭제
  - 2.3 사용자 시나리오에서 텍스트로 충분히 설명되어 있어 중복 제거

#### 2.3 사용자 시나리오 (1학습 세션 흐름)
- **워크플로우 표현 방식 개선**
  ```
  기존: 사용자: "AI는 인간의 지능을 모방한 기술입니다..."
  변경: 출력: "AI는 인간의 지능을 모방한 기술입니다..."
  ```

- **에이전트 처리 과정 명확화**
  ```
  3. 사용자: "2번이요" 
     → LearningSupervisor → EvaluationFeedbackAgent → 재학습 여부 판단 → LearningSupervisor 
     → 출력: "정답입니다! 다음 단계로 진행할까요?"
  
  4. 사용자: "네" (최종 재학습 여부 판단은 사용자가) 
     → SessionManager가 세션을 마무리하고 DB에 데이터 저장 → LearningSupervisor 
     → 출력: "1챕터가 완료되었습니다"
  ```

### 📚 3번 기술 요구사항 추가

#### 📦 사용 패키지 버전 신규 추가
```
- langchain==0.3.27
- langchain-core==0.3.72
- langgraph==0.6.3
- langsmith==0.4.13
```

### 📖 5번 AI 입문자 학습 챕터 구성 완전 개편

#### 기존 구조 (v1.5)
- 장황한 "학습 내용" 설명 중심
- 단조로운 제목 구조

#### 신규 구조 (v2.0)
- **구체적이고 매력적인 챕터 제목**
  - "AI, 너 정체가 뭐니?" → "AI는 무엇인가?"
  - "AI 빅뱅, 세상을 바꾼 순간들" → "LLM이란 무엇인가"
  - "AI 전국시대, 누가 천하를 통일할까?" → "다양한 AI 챗봇들 소개"

- **세부 주제 불릿 포인트 방식**
  ```
  Chapter 1. AI는 무엇인가?
  - AI는 어떻게 우리 삶에 들어와 있을까?
  - AI, 머신러닝, 딥러닝 - 관계 파헤치기
  - LLM, 챗봇, 생성형 AI, GPT, 파라미터 - 핵심 용어 5분 정리
  - 챗봇과 무엇을 할 수 있을까?
  ```

### 🤖 6번 MAS 아키텍처 실제 구현 반영

#### 기존 (v1.5): 계획 중심
- 이론적 에이전트 구조 설명
- 예상 기능 위주 서술

#### 변경 (v2.0): 구현 완료 상태 반영
- **완성 상태 표시 시스템**
  ```
  SessionManager (✅ 완성 - 세션 생명주기 관리, DB 저장)
  └── LearningSupervisor (✅ 완성 - 워크플로우 시작점/끝점, 라우팅 및 응답 생성)
      ├── TheoryEducator (✅ 완성 - 이론 설명 대본 생성)
      ├── QuizGenerator (✅ 완성 - 퀴즈 및 힌트 동시 생성)
      ├── EvaluationFeedbackAgent (✅ 완성 - 객관식/주관식 통합 평가)
      └── QnAResolver (⚠️ 임시 구현 - "QnAResolver가 호출되었습니다" 메시지만 반환)
  ```

- **구체적 구현 세부사항 추가**
  - SessionManager: user_progress 테이블 저장 기능 추가
  - 체인 구성: `PromptTemplate | ChatOpenAI | StrOutputParser`
  - 실제 DB 연동 검증 100% 성공 상태 명시

### 🔧 7번 Tool 시스템 실제 구현 반영

#### 삭제된 레거시 시스템 (7.2번 항목 제거)
- 이론적 설명에서 실제 구현 완료 상태로 전환

#### 구현 완료 Tool 목록 업데이트
- **LCEL 파이프라인 완성 상태 명시**
- **ChatGPT 1회 호출 최적화 성과 반영**
- **미구현 Tools 명확히 구분**

### 🧩 8번 기능 명세서 완전 개편

#### 구현 상태 시각화
| 기능 | 구현 상태 | 
|------|-----------|
| 인증 시스템 | ✅ 완성 |
| 세션 관리 | ✅ 완성 |
| 실시간 Q&A | ⚠️ 임시 구현 |
| 하이브리드 UX | 🔄 프론트엔드 구현 예정 |

#### 삭제된 기능
- **실제 AI 연동** (prompt_practice_tool) - 구현 우선순위에서 제외
- **AI 모델 유연성** - 단일 모델(GPT-4o-mini) 사용으로 변경

#### 주요 기술적 성과 추가
- 라우팅 버그 해결
- State 일관성 확보
- 비용 최적화
- DB 무결성

### 🎯 9번 MVP 범위 실제 구현 상태 반영

#### 구현 상태 테이블 신규 추가
- 각 항목별 ✅완성/🔄진행중 상태 명시
- 실제 기술적 성과 구체화

#### 완성된 핵심 시스템 상세화
- **백엔드 완성 항목** 구체적 나열
- **프론트엔드 완성 항목** 구체적 나열
- **다음 구현 단계** 우선순위 제시

### 🤖 11번 AI 모델 운영 전략 변경

#### LLM 모델 변경
```
기존: Gemini 2.5 Flash/Pro 중심
변경: GPT-4o-mini 통일 사용
```

#### 임베딩 시스템 간소화
```
기존: - 사용자 학습 패턴 분석
변경: 해당 항목 제거 (3개 용도로 축소)
```

---

## 📝 v2.0 주요 변경사항 요약

- **워크플로우 구조 최적화**: 기존 복잡한 다중 경로를 통합된 LearningSupervisor 중심 구조로 단순화
- **라우팅 시스템 강화**: SupervisorRouter가 현재 상태와 사용자 의도에 따라 정확한 에이전트로 라우팅
- **응답 생성 통합**: 모든 에이전트가 LearningSupervisor Output으로 수렴하여 일관된 응답 생성
- **실제 구현 상태 반영**: 이론 중심에서 실제 완성된 기능 중심으로 문서 전환
- **기술 스택 표준화**: GPT-4o-mini + LangChain LCEL 파이프라인으로 통일

---

*작성자: 개발팀*  
*PRD 버전: v1.5 → v2.0*  
*주요 변경 사유: 실제 구현 완료 상태 반영 및 워크플로우 최적화*